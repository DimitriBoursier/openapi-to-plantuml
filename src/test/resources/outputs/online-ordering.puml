@startuml

class "OrderItem" {
  menu_item_id : string
  variation_id : string
  quantity : integer
  note : string {O}
  modifiers : unknown[] {O}
}

"OrderItem" --> "0..1" "Discount" : discount

class "OrderItemResponse" {
  menu_item_id : string
  variation_id : string
  quantity : integer
  note : string {O}
  modifiers : unknown[] {O}
  gross_amount : decimal {O}
  net_amount : decimal {O}
  tax_amount : decimal {O}
  unit_price : decimal {O}
  discount_amount : decimal {O}
  total_amount : decimal {O}
}

"OrderItemResponse" --> "0..1" "DiscountResponse" : discount

class "OrderGuest" {
  first_name : string {O}
  last_name : string {O}
  email : string {O}
  phone : string {O}
  external_id : string {O}
  gender : string {O}
}

class "Discount" {
  discount_rule_id : string
}

class "DiscountResponse" {
  discount_rule_id : string {O}
  value : decimal {O}
  amount : decimal {O}
  note : string {O}
}

class "OrderRelationshipPaymentsData" {
  id : string {O}
  type : string {O}
}

class "OrderIncluded" {
  id : string {O}
  type : string {O}
  attributes : unknown {O}
  relationships : unknown[] {O}
}

class "OrderSubmission" {
  data : unknown
}

class "OrderSubmissionResponse" {
  data : unknown
}

"OrderSubmissionResponse" --> "*" "OrderIncluded" : included

class "OrderValidateResponse" {
  data : unknown
  included : unknown[] {O}
}

class "GetOrder" {
  order_id : string
}

class "MenuItem" {
  id : string {O}
  name : string {O}
  category : string {O}
}

"MenuItem" --> "*" "MenuItemVariation" : variations

"MenuItem" --> "*" "MenuItemModifierGroup" : modifier_groups

class "MenuItemVariation" {
  id : string {O}
  name : string {O}
  unit_type : string {O}
  price : string {O}
}

class "MenuItemModifier" {
  id : string {O}
  name : string {O}
  display_name : string {O}
  price : decimal {O}
  default : boolean {O}
  modifier_group_id : string {O}
  position : decimal {O}
}

class "MenuItemModifierGroup" {
  id : string {O}
  name : string {O}
  min_number_of_modifiers : decimal {O}
  max_number_of_modifiers : decimal {O}
}

"MenuItemModifierGroup" --> "*" "MenuItemModifier" : modifiers

class "GetMenus" {
  filters : unknown {O}
}

class "GetMenusResponse" {
  meta : unknown {O}
  jsonapi : unknown {O}
  data : unknown {O}
}

class "ErrorUnauthorized" {
  errors : unknown[] {O}
  jsonapi : unknown {O}
}
hide <<Method>> circle

class "GET /menus" <<Method>> {
  filters : unknown {O}
}

"GET /menus" ..> "GetMenusResponse": 200

"GET /menus" ..> "ErrorUnauthorized": 401

class "POST /orders/validate" <<Method>> {
}

"POST /orders/validate" ..> "OrderValidateResponse": 200

"POST /orders/validate" ..> "ErrorUnauthorized": 401

class "POST /orders" <<Method>> {
}

"POST /orders" ..> "OrderSubmissionResponse": 200

"POST /orders" ..> "ErrorUnauthorized": 401

class "GET /orders/{order_id}" <<Method>> {
  order_id : string
}

"GET /orders/{order_id}" ..> "OrderSubmissionResponse": 200

"GET /orders/{order_id}" ..> "ErrorUnauthorized": 401

@enduml